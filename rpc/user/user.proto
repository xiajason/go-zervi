syntax = "proto3";

package user;
option go_package = "./user";

// 用户信息
message User {
    int64 user_id = 1;
    string username = 2;
    string email = 3;
    string phone = 4;
    string real_name = 5;
    string avatar = 6;
    int32 gender = 7;
    string birthday = 8;
    string location = 9;
    string bio = 10;
    int32 status = 11;
    int64 create_time = 12;
    int64 update_time = 13;
}

// 获取用户信息请求
message GetUserRequest {
    int64 user_id = 1;
}

// 获取用户信息响应
message GetUserResponse {
    User user = 1;
}

// 更新用户信息请求
message UpdateUserRequest {
    int64 user_id = 1;
    string real_name = 2;
    string avatar = 3;
    int32 gender = 4;
    string birthday = 5;
    string location = 6;
    string bio = 7;
}

// 更新用户信息响应
message UpdateUserResponse {
    bool success = 1;
    string message = 2;
}

// 用户列表请求
message UserListRequest {
    int32 page = 1;
    int32 page_size = 2;
    string keyword = 3;
    int32 status = 4;
}

// 用户列表响应
message UserListResponse {
    repeated User users = 1;
    int64 total = 2;
    int32 page = 3;
    int32 page_size = 4;
}

// 用户统计请求
message UserStatsRequest {
    int64 start_time = 1;
    int64 end_time = 2;
}

// 用户统计响应
message UserStatsResponse {
    int64 total_users = 1;
    int64 active_users = 2;
    int64 new_users_today = 3;
    int64 new_users_this_month = 4;
}

// 空响应
message Empty {}

// 用户服务
service User {
    // 获取用户信息
    rpc GetUser(GetUserRequest) returns(GetUserResponse);
    
    // 更新用户信息
    rpc UpdateUser(UpdateUserRequest) returns(UpdateUserResponse);
    
    // 获取用户列表
    rpc GetUserList(UserListRequest) returns(UserListResponse);
    
    // 获取用户统计
    rpc GetUserStats(UserStatsRequest) returns(UserStatsResponse);
    
    // 删除用户
    rpc DeleteUser(GetUserRequest) returns(Empty);
}
