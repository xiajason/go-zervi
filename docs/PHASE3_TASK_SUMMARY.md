# Phase 3 实施计划与任务清单（两周滚动）

更新时间: 2025-10-30
负责人: 全栈（后端/前端/网关）

## 目标
- 打通“登录→资料→简历→职位”最小可用主流程（经中央大脑）
- RBAC 生效（动态菜单/页面/按钮级权限）
- 基础监控与自动化用例到位

---

## 第1周（P0 优先）

1) 种子数据与 RBAC 落地（P0）
- 初始化角色/权限/路由映射（super_admin、recruiter、candidate）
- 中央大脑聚合并输出：`/api/v1/router/user-pages`、`/api/v1/router/user-routes`
- 前端按返回渲染菜单，可见即可达

2) 用户主链稳定化（P0）
- user-service：Profile/UpdateProfile/ChangePassword 完成
- 前端（H5/小程序）：登录→Profile 稳定（401 跳转、token 续期）

3) 监控与日志最小集（P1）
- 网关导出 QPS/延时/错误码指标
- Prometheus 拉取、Grafana 导入通用面板

4) 自动化用例（P1）
- 登录、Profile、权限拦截脚本化（dev 环境）

验收（里程碑 A）
- 动态菜单/权限生效
- 用户主链可用且稳定（401 处理、token 续期）
- 监控面板在线（基础指标可见）
- 最小自动化用例通过

---

## 第2周（P0 优先）

1) 简历与职位最小可用（P0）
- resume-service：创建/查询（最小字段），预览接口
- job-service：列表/详情（最小字段）
- 前端对接列表与详情（均经网关）

2) 端到端主流程（P0）
- 登录→完善资料→创建简历→查看职位列表→查看职位详情

3) 发布准备（P1）
- 环境切换脚本（dev/mock/prod），合法域名校验清单

4) 性能与稳定性（P2）
- 网关路由回退与熔断报表
- SQL 连接池与慢查询告警

验收（里程碑 B）
- 简历/职位最小可用 API 与前端联调通过
- 端到端主流程可连续跑通
- 环境切换与域名配置清单可执行

---

## 原则
- 统一前缀 `/api/v1`，返回 `code===0` 为成功
- 所有请求必须经中央大脑，禁止直连子服务
- 统一 loading 封装（withLoading），消除未配对的风险
- 变更完成即更新脚本与文档，保持可重复、可回滚

---

## 里程碑与交付物
- 里程碑 A（第1周末）
  - RBAC 生效；用户主链稳定；监控面板在线；最小自动化用例
- 里程碑 B（第2周末）
  - 简历/职位最小可用；主流程打通；环境切换脚本与配置清单

---

## 风险与应对
- 域名与证书：未就绪 → 使用 dev/mock，保持中央大脑入口不变
- 依赖服务不齐全：以“最小字段/接口”先跑通链路
- 数据不完整：提供种子数据与本地初始化脚本

# 第三阶段任务总结

**创建时间**: 2025-10-30  
**阶段**: 后端测试与数据库适配  
**状态**: 📋 任务已定义

---

## ✅ 已完成

### 任务定义

- ✅ 创建第三阶段任务文档
- ✅ 整合到集成计划中
- ✅ 定义10个核心任务
- ✅ 设置验收标准

---

## 📋 待办任务

### 数据库测试 (3个任务)

1. ⏸️ 测试MySQL数据库适配
2. ⏸️ 测试PostgreSQL数据库适配
3. ⏸️ 测试数据库切换功能

---

### API测试 (5个任务)

4. ⏸️ 测试认证服务所有API接口
5. ⏸️ 测试用户服务所有API接口
6. ⏸️ 测试职位服务所有API接口
7. ⏸️ 测试简历服务所有API接口
8. ⏸️ 测试企业服务所有API接口

---

### 文档和前端模块 (2个任务)

9. ⏸️ 创建完整的API接口文档
10. ⏸️ 创建前端API调用模块

---

## 📊 进度统计

**总任务数**: 10  
**已完成**: 0  
**进行中**: 0  
**待开始**: 10  
**完成率**: 0%

---

## 🎯 下一步

### 立即行动

开始第一个任务：测试MySQL数据库适配

---

## 📝 相关文档

- `docs/PHASE3_BACKEND_TESTING_AND_DATABASE_ADAPTATION.md` - 详细任务文档
- `docs/CENTRAL_BRAIN_BUSINESS_LAYER_INTEGRATION_PRIORITY_PLAN.md` - 集成计划

---

**作者**: Auto (AI Assistant)  
**日期**: 2025-10-30  
**状态**: 📋 任务已定义，等待开始执行

