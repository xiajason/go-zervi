# å‰ç«¯ç™»å½•åŠŸèƒ½å®ŒæˆæŠ¥å‘Š

**æ—¥æœŸ**: 2025-10-30  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡

---

## ğŸ“‹ å®ç°å†…å®¹

### 1. å‰ç«¯æ¶æ„

**æŠ€æœ¯æ ˆ**: Vue3 + Vite + Composition API

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue              # ç™»å½•+ä¸ªäººä¸­å¿ƒé¡µé¢
â”‚   â”œâ”€â”€ main.js              # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ api.js           # API æœåŠ¡å±‚
â”œâ”€â”€ vite.config.js           # Vite é…ç½®ï¼ˆå«ä»£ç†ï¼‰
â””â”€â”€ package.json             # é¡¹ç›®ä¾èµ–
```

### 2. æ ¸å¿ƒåŠŸèƒ½

#### âœ… ç™»å½•åŠŸèƒ½
- ç”¨æˆ·åå¯†ç ç™»å½•
- Token è‡ªåŠ¨å­˜å‚¨åˆ° localStorage
- é”™è¯¯æç¤ºå’ŒåŠ è½½çŠ¶æ€

#### âœ… ä¸ªäººä¸­å¿ƒ
- æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€è§’è‰²ã€IDï¼‰
- è‡ªåŠ¨æ£€æŸ¥ç™»å½•çŠ¶æ€
- é€€å‡ºç™»å½•åŠŸèƒ½

#### âœ… çŠ¶æ€ç®¡ç†
- ç™»å½•çŠ¶æ€åˆ‡æ¢
- ç”¨æˆ·ä¿¡æ¯å±•ç¤º
- Token æŒä¹…åŒ–

---

## ğŸ”„ å®Œæ•´è°ƒç”¨é“¾

### ç™»å½•æµç¨‹

```
å‰ç«¯ (Vue3) â†’ Vite ä»£ç† â†’ ä¸­å¤®å¤§è„‘ (9000) â†’ Auth Service â†’ MySQL æ•°æ®åº“
```

#### æ­¥éª¤è¯¦è§£

1. **å‰ç«¯å‘èµ·ç™»å½•è¯·æ±‚**
   ```javascript
   // frontend/src/services/api.js
   await fetch(`${API_BASE_URL}/api/v1/auth/login`, {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({ username, password })
   })
   ```

2. **Vite ä»£ç†è½¬å‘**
   ```javascript
   // frontend/vite.config.js
   proxy: {
     '/api': {
       target: 'http://localhost:9000',  // ä¸­å¤®å¤§è„‘
       changeOrigin: true
     }
   }
   ```

3. **ä¸­å¤®å¤§è„‘å¤„ç†**
   - æ¥æ”¶è¯·æ±‚ï¼š`http://localhost:9000/api/v1/auth/login`
   - è·¯ç”±åˆ° Auth Service
   - è¿”å› Token å’Œç”¨æˆ·ä¿¡æ¯

4. **å‰ç«¯å­˜å‚¨ Token**
   ```javascript
   localStorage.setItem('token', token)
   localStorage.setItem('userInfo', JSON.stringify(data))
   ```

5. **åˆ‡æ¢åˆ°ä¸ªäººä¸­å¿ƒ**
   - è°ƒç”¨ `getUserInfo()` è·å–å®Œæ•´ç”¨æˆ·ä¿¡æ¯
   - æ˜¾ç¤ºç”¨æˆ·èµ„æ–™å¡ç‰‡

---

## ğŸ§ª æµ‹è¯•ç»“æœ

### âœ… æµ‹è¯•ç”¨ä¾‹

#### 1. ç™»å½•æµ‹è¯•
```bash
curl -X POST http://localhost:9000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password"}'
```

**å“åº”**:
```json
{
  "code": 0,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "accessToken": "eyJhbGci...",
    "userId": 1,
    "userName": "admin",
    "email": "admin@zervigo.com",
    "role": "super_admin"
  }
}
```

#### 2. è·å–ç”¨æˆ·ä¿¡æ¯æµ‹è¯•
```bash
curl http://localhost:9000/api/v1/users/profile \
  -H "Authorization: Bearer eyJhbGci..."
```

**å“åº”**:
```json
{
  "code": 0,
  "message": "User profile retrieved successfully",
  "data": {
    "id": 1,
    "username": "admin",
    "email": "admin@zervigo.com",
    "role": "super_admin"
  }
}
```

#### 3. å‰ç«¯é›†æˆæµ‹è¯•

- âœ… è®¿é—® `http://localhost:10086`
- âœ… ä½¿ç”¨ `admin`/`password` ç™»å½•
- âœ… è‡ªåŠ¨è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ
- âœ… æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
- âœ… é€€å‡ºç™»å½•åŠŸèƒ½æ­£å¸¸
- âœ… åˆ·æ–°é¡µé¢ä¿æŒç™»å½•çŠ¶æ€

---

## ğŸ” æ¶æ„éªŒè¯

### âœ… ä¸­å¤®å¤§è„‘é›†æˆ

**ç¡®è®¤**: å‰ç«¯è¯·æ±‚å·²é€šè¿‡ä¸­å¤®å¤§è„‘å¤„ç†

**è¯æ®**:
1. é…ç½®æ­£ç¡®ï¼š`vite.config.js` é…ç½®äº† API ä»£ç†åˆ° `http://localhost:9000`
2. æœåŠ¡å¥åº·ï¼šä¸­å¤®å¤§è„‘ `/health` æ¥å£æ­£å¸¸
3. è·¯ç”±æ­£ç¡®ï¼šè¯·æ±‚æ­£ç¡®è·¯ç”±åˆ° Auth Service å’Œ User Service

### âœ… æ•°æ®åº“äº¤äº’

**ç¡®è®¤**: æ•°æ®æ¥è‡ª MySQL æ•°æ®åº“

**è¯æ®**:
1. ç”¨æˆ·ä¿¡æ¯å‡†ç¡®è¿”å›
2. æ•°æ®åº“è¡¨ï¼š`jobfirst.users`
3. Auth Service æ­£ç¡®æŸ¥è¯¢æ•°æ®åº“

---

## ğŸ“Š æŠ€æœ¯ç‰¹ç‚¹

### 1. å“åº”å¼è®¾è®¡
- ç§»åŠ¨ç«¯é€‚é…
- æ¸å˜èƒŒæ™¯
- å¡ç‰‡å¼å¸ƒå±€

### 2. ç”¨æˆ·ä½“éªŒ
- åŠ è½½çŠ¶æ€æç¤º
- é”™è¯¯ä¿¡æ¯å±•ç¤º
- å¹³æ»‘çŠ¶æ€åˆ‡æ¢

### 3. å®‰å…¨æ€§
- Token å­˜å‚¨åœ¨ localStorage
- è‡ªåŠ¨è¿‡æœŸæ£€æŸ¥
- 401 è‡ªåŠ¨è·³è½¬ç™»å½•

---

## ğŸš€ ä½¿ç”¨æŒ‡å—

### å¯åŠ¨å‰ç«¯

```bash
cd frontend
pnpm dev
```

è®¿é—®: `http://localhost:10086`

### æµ‹è¯•è´¦å·

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `password`
- **è§’è‰²**: `super_admin`

### åŠŸèƒ½è¯´æ˜

1. **ç™»å½•é¡µé¢**
   - è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
   - ç‚¹å‡»"ç™»å½•"æŒ‰é’®
   - è‡ªåŠ¨è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ

2. **ä¸ªäººä¸­å¿ƒ**
   - æ˜¾ç¤ºç”¨æˆ·åŸºæœ¬ä¿¡æ¯
   - å¯ä»¥é€€å‡ºç™»å½•
   - åˆ·æ–°é¡µé¢ä¿æŒç™»å½•çŠ¶æ€

---

## ğŸ“ åç»­è®¡åˆ’

### å³å°†å¼€å‘

1. **æ›´å¤šé¡µé¢**
   - é¦–é¡µ
   - ç®€å†ç®¡ç†
   - èŒä½æœç´¢
   - AI èŠå¤©

2. **è·¯ç”±ç³»ç»Ÿ**
   - ä½¿ç”¨ Vue Router
   - é¡µé¢å¯¼èˆª
   - è·¯ç”±å®ˆå«

3. **çŠ¶æ€ç®¡ç†**
   - Pinia æˆ– Vuex
   - å…¨å±€ç”¨æˆ·çŠ¶æ€
   - ç¼“å­˜ç®¡ç†

4. **UI ç»„ä»¶åº“**
   - Element Plus
   - Vant
   - æˆ–è‡ªå®šä¹‰ç»„ä»¶

---

## âœ… æ€»ç»“

**å‰ç«¯ç™»å½•åŠŸèƒ½å·²å®Œæˆå¹¶é€šè¿‡æµ‹è¯•ï¼**

**æˆå°±**:
- âœ… å®Œæ•´çš„ç™»å½•æµç¨‹
- âœ… ä¸ªäººä¸­å¿ƒå±•ç¤º
- âœ… é€šè¿‡ä¸­å¤®å¤§è„‘çš„å®Œæ•´è°ƒç”¨é“¾
- âœ… æ•°æ®åº“äº¤äº’éªŒè¯
- âœ… ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**æŠ€æœ¯å€ºåŠ¡**: æ— é‡å¤§æŠ€æœ¯å€ºåŠ¡

**ä¸‹ä¸€æ­¥**: ç»§ç»­å¼€å‘å…¶ä»–æ ¸å¿ƒé¡µé¢å’ŒåŠŸèƒ½

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-10-30  
**å¼€å‘è€…**: AI Assistant  
**çŠ¶æ€**: ğŸ‰ å®Œæˆå¹¶å¯ç”¨

