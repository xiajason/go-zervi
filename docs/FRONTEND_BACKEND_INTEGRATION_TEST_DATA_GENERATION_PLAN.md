# å‰åç«¯è”è°ƒæµ‹è¯•æ•°æ®ç”Ÿæˆä¸éªŒè¯æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜åˆ†æ

### å½“å‰æŒ‘æˆ˜

1. **æµ‹è¯•æ•°æ®ä¸è¶³**
   - æ•°æ®åº“åªæœ‰å°‘é‡åŸºç¡€æµ‹è¯•æ•°æ®
   - æ— æ³•æ”¯æŒå®Œæ•´çš„ä¸šåŠ¡æµæµ‹è¯•
   - å‰åç«¯è”è°ƒå›°éš¾

2. **ä¸šåŠ¡æµæµ‹è¯•éœ€è¦**
   - ç”¨æˆ·æ³¨å†Œ â†’ ç™»å½• â†’ åˆ›å»ºç®€å† â†’ æœç´¢èŒä½ â†’ ç”³è¯·èŒä½ â†’ AIåŒ¹é…
   - ä¼ä¸šæ³¨å†Œ â†’ è®¤è¯ â†’ å‘å¸ƒèŒä½ â†’ æŸ¥çœ‹ç®€å† â†’ å®¡æ ¸ç”³è¯·
   - éœ€è¦å…³è”æ•°æ®æ”¯æŒå®Œæ•´æµç¨‹

3. **å‰ç«¯å¼€å‘éœ€æ±‚**
   - éœ€è¦çœŸå®çš„æ•°æ®å±•ç¤ºæ•ˆæœ
   - éœ€è¦è¦†ç›–å„ç§è¾¹ç•Œæƒ…å†µ
   - éœ€è¦æµ‹è¯•æƒé™æ§åˆ¶

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆè®¾è®¡

### æ–¹æ¡ˆä¸€ï¼šæ¸è¿›å¼æµ‹è¯•æ•°æ®ç”Ÿæˆï¼ˆæ¨èï¼‰

**ç‰¹ç‚¹**ï¼šé€æ­¥ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œæ”¯æŒä¸åŒé˜¶æ®µçš„å¼€å‘éœ€æ±‚

**ä¼˜åŠ¿**ï¼š
- âœ… æ•°æ®é‡å¯æ§ï¼Œä¸ä¼šè¿‡å¤šå½±å“æ€§èƒ½
- âœ… å¯ä»¥æŒ‰æ¨¡å—ç”Ÿæˆï¼Œé€æ­¥å®Œå–„
- âœ… æ”¯æŒå¿«é€Ÿé‡ç½®å’Œé‡æ–°ç”Ÿæˆ

**å®æ–½æ­¥éª¤**ï¼š
1. **åŸºç¡€æ•°æ®å±‚**ï¼šç”¨æˆ·ã€è§’è‰²ã€æƒé™
2. **ä¸šåŠ¡æ•°æ®å±‚**ï¼šç®€å†ã€èŒä½ã€ä¼ä¸š
3. **å…³è”æ•°æ®å±‚**ï¼šç”³è¯·ã€åŒ¹é…ã€èŠå¤©è®°å½•
4. **å®Œæ•´ä¸šåŠ¡æµ**ï¼šç«¯åˆ°ç«¯çš„ä¸šåŠ¡åœºæ™¯

---

### æ–¹æ¡ˆäºŒï¼šMockæ•°æ®æœåŠ¡

**ç‰¹ç‚¹**ï¼šç‹¬ç«‹çš„æ•°æ®MockæœåŠ¡ï¼Œå‰ç«¯å¯ä»¥ç‹¬ç«‹å¼€å‘

**ä¼˜åŠ¿**ï¼š
- âœ… å‰ç«¯å’Œåç«¯å¯ä»¥å¹¶è¡Œå¼€å‘
- âœ… ä¸ä¾èµ–çœŸå®æ•°æ®åº“
- âœ… å¯ä»¥å¿«é€Ÿæ¨¡æ‹Ÿå„ç§åœºæ™¯

**å®æ–½æ­¥éª¤**ï¼š
1. æ­å»ºMockæœåŠ¡ï¼ˆä½¿ç”¨JSON Serveræˆ–è‡ªå®šä¹‰ï¼‰
2. å®šä¹‰APIæ•°æ®æ ¼å¼
3. å‰ç«¯æ¥å…¥MockæœåŠ¡
4. è”è°ƒæ—¶åˆ‡æ¢åˆ°çœŸå®API

---

### æ–¹æ¡ˆä¸‰ï¼šæ•°æ®åº“ç§å­è„šæœ¬

**ç‰¹ç‚¹**ï¼šå®Œæ•´çš„SQLç§å­è„šæœ¬ï¼Œä¸€é”®ç”Ÿæˆæµ‹è¯•æ•°æ®

**ä¼˜åŠ¿**ï¼š
- âœ… æ•°æ®ä¸€è‡´æ€§é«˜
- âœ… å¯ä»¥ç‰ˆæœ¬æ§åˆ¶
- âœ… æ”¯æŒå¿«é€Ÿé‡ç½®

**å®æ–½æ­¥éª¤**ï¼š
1. ç¼–å†™SQLç§å­è„šæœ¬
2. ç”Ÿæˆå…³è”æ•°æ®
3. å®šæœŸæ›´æ–°å’Œç»´æŠ¤

---

## ğŸš€ æ¨èæ–¹æ¡ˆï¼šæ··åˆæ–¹æ¡ˆ

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æµ‹è¯•æ•°æ®ç”Ÿæˆå±‚                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. SQLç§å­è„šæœ¬ (åŸºç¡€æ•°æ®)                                â”‚
â”‚  2. Pythonæ•°æ®ç”Ÿæˆå™¨ (ä¸šåŠ¡æ•°æ®)                            â”‚
â”‚  3. MockæœåŠ¡ (å‰ç«¯ç‹¬ç«‹å¼€å‘)                                â”‚
â”‚  4. APIæµ‹è¯•è„šæœ¬ (ä¸šåŠ¡æµéªŒè¯)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®æ–½ä¼˜å…ˆçº§

**Phase 1: MVPé˜¶æ®µï¼ˆç«‹å³å®æ–½ï¼‰**
- âœ… SQLç§å­è„šæœ¬ï¼šåŸºç¡€ç”¨æˆ·ã€è§’è‰²ã€æƒé™
- âœ… Pythonç”Ÿæˆå™¨ï¼šå°‘é‡ç®€å†ã€èŒä½ã€ä¼ä¸šæ•°æ®
- âœ… ä¸šåŠ¡æµéªŒè¯ï¼šæ ¸å¿ƒæµç¨‹ï¼ˆæ³¨å†Œâ†’ç™»å½•â†’åˆ›å»ºç®€å†â†’æœç´¢èŒä½ï¼‰

**Phase 2: åŠŸèƒ½å®Œå–„é˜¶æ®µ**
- âœ… æ‰©å±•æ•°æ®ç”Ÿæˆå™¨ï¼šæ›´å¤šä¸šåŠ¡æ•°æ®
- âœ… MockæœåŠ¡ï¼šå‰ç«¯ç‹¬ç«‹å¼€å‘
- âœ… è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šAPIç«¯åˆ°ç«¯æµ‹è¯•

**Phase 3: ä¼˜åŒ–é˜¶æ®µ**
- âœ… æ€§èƒ½æµ‹è¯•æ•°æ®ï¼šå¤§æ•°æ®é‡
- âœ… å‹åŠ›æµ‹è¯•åœºæ™¯ï¼šå¹¶å‘æµ‹è¯•
- âœ… è¾¹ç•Œæƒ…å†µæ•°æ®ï¼šå¼‚å¸¸åœºæ™¯

---

## ğŸ“Š æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨è®¾è®¡

### 1. å®Œæ•´ä¸šåŠ¡æµæ•°æ®ç”Ÿæˆå™¨

**åŠŸèƒ½**ï¼š
- ç”Ÿæˆç”¨æˆ·ï¼ˆæ±‚èŒè€…ã€HRã€ä¼ä¸šç®¡ç†å‘˜ï¼‰
- ç”Ÿæˆä¼ä¸šï¼ˆå·²è®¤è¯ã€æœªè®¤è¯ï¼‰
- ç”ŸæˆèŒä½ï¼ˆä¸åŒç±»å‹ã€ä¸åŒçŠ¶æ€ï¼‰
- ç”Ÿæˆç®€å†ï¼ˆä¸åŒæ ¼å¼ã€ä¸åŒçŠ¶æ€ï¼‰
- ç”Ÿæˆå…³è”æ•°æ®ï¼ˆç”³è¯·ã€åŒ¹é…ã€èŠå¤©ï¼‰

**æ•°æ®ç»“æ„**ï¼š
```python
# ç”¨æˆ·æ•°æ®
users = [
    {
        "username": "job_seeker_001",
        "email": "jobseeker001@example.com",
        "role": "job_seeker",
        "profile": {...},
        "resumes": [...],
        "applications": [...]
    },
    # ...
]

# ä¼ä¸šæ•°æ®
companies = [
    {
        "company_name": "ç§‘æŠ€å…¬å¸A",
        "status": "verified",
        "jobs": [...],
        "applications": [...]
    },
    # ...
]
```

---

### 2. æ•°æ®å…³è”æ€§ä¿è¯

**å…³é”®å…³è”**ï¼š
- âœ… ç”¨æˆ· â†’ ç®€å† â†’ èŒä½ç”³è¯· â†’ èŒä½
- âœ… ä¼ä¸š â†’ èŒä½ â†’ èŒä½ç”³è¯· â†’ ç”¨æˆ·
- âœ… AIåŒ¹é…è®°å½• â†’ ç®€å† + èŒä½
- âœ… èŠå¤©è®°å½• â†’ ç”¨æˆ· + ä¼šè¯

**ç”Ÿæˆç­–ç•¥**ï¼š
```python
# 1. å…ˆç”ŸæˆåŸºç¡€æ•°æ®ï¼ˆç”¨æˆ·ã€ä¼ä¸šï¼‰
users = generate_users(count=50)
companies = generate_companies(count=20)

# 2. åŸºäºåŸºç¡€æ•°æ®ç”Ÿæˆä¸šåŠ¡æ•°æ®
for user in users:
    if user.role == 'job_seeker':
        resumes = generate_resumes(user, count=random.randint(1, 3))
        for resume in resumes:
            applications = generate_applications(resume, jobs)

for company in companies:
    jobs = generate_jobs(company, count=random.randint(5, 15))
```

---

### 3. ä¸šåŠ¡åœºæ™¯æ•°æ®

**åœºæ™¯1ï¼šæ±‚èŒè€…å®Œæ•´æµç¨‹**
```
1. æ³¨å†Œè´¦æˆ· â†’ usersè¡¨
2. å®Œå–„ä¸ªäººä¿¡æ¯ â†’ usersè¡¨æ›´æ–°
3. åˆ›å»ºç®€å† â†’ resumesè¡¨
4. æœç´¢èŒä½ â†’ jobsè¡¨æŸ¥è¯¢
5. ç”³è¯·èŒä½ â†’ job_applicationsè¡¨
6. æŸ¥çœ‹AIåŒ¹é… â†’ ai_matchesè¡¨
7. æŸ¥çœ‹èŠå¤©è®°å½• â†’ ai_chatsè¡¨
```

**åœºæ™¯2ï¼šä¼ä¸šå®Œæ•´æµç¨‹**
```
1. æ³¨å†Œä¼ä¸šè´¦æˆ· â†’ usersè¡¨ + companiesè¡¨
2. ä¼ä¸šè®¤è¯ â†’ company_verificationsè¡¨
3. å‘å¸ƒèŒä½ â†’ jobsè¡¨
4. æŸ¥çœ‹ç®€å† â†’ resumesè¡¨æŸ¥è¯¢
5. å®¡æ ¸ç”³è¯· â†’ job_applicationsè¡¨æ›´æ–°
6. æŸ¥çœ‹ç»Ÿè®¡ â†’ statisticsè¡¨
```

---

## ğŸ› ï¸ å®æ–½å·¥å…·

### 1. SQLç§å­è„šæœ¬ç”Ÿæˆå™¨

**æ–‡ä»¶**ï¼š`databases/postgres/init/10-seed-test-data.sql`

**åŠŸèƒ½**ï¼š
- ç”ŸæˆåŸºç¡€ç”¨æˆ·ï¼ˆ10ä¸ªä¸åŒç±»å‹ï¼‰
- ç”ŸæˆåŸºç¡€ä¼ä¸šï¼ˆ5ä¸ªï¼‰
- ç”ŸæˆåŸºç¡€èŒä½ï¼ˆ20ä¸ªï¼‰
- ç”ŸæˆåŸºç¡€ç®€å†ï¼ˆ15ä¸ªï¼‰
- ç”Ÿæˆå…³è”æ•°æ®ï¼ˆç”³è¯·ã€åŒ¹é…ç­‰ï¼‰

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# æ‰§è¡Œç§å­è„šæœ¬
psql -U postgres -d zervigo_unified -f databases/postgres/init/10-seed-test-data.sql
```

---

### 2. Pythonæ•°æ®ç”Ÿæˆå™¨ï¼ˆå¢å¼ºç‰ˆï¼‰

**æ–‡ä»¶**ï¼š`scripts/comprehensive_test_data_generator.py`

**åŠŸèƒ½**ï¼š
- ç”Ÿæˆå¤§é‡æµ‹è¯•æ•°æ®ï¼ˆå¯é…ç½®æ•°é‡ï¼‰
- æ”¯æŒä¸šåŠ¡æµæ•°æ®ç”Ÿæˆ
- æ”¯æŒæ•°æ®é‡ç½®å’Œæ¸…ç†
- ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# ç”Ÿæˆæµ‹è¯•æ•°æ®
python scripts/comprehensive_test_data_generator.py --users 100 --companies 20 --jobs 200 --resumes 150

# é‡ç½®æµ‹è¯•æ•°æ®
python scripts/comprehensive_test_data_generator.py --reset

# ç”Ÿæˆç‰¹å®šä¸šåŠ¡åœºæ™¯æ•°æ®
python scripts/comprehensive_test_data_generator.py --scenario job_seeker_flow
```

---

### 3. MockæœåŠ¡

**æ–‡ä»¶**ï¼š`scripts/mock-api-server.py`

**åŠŸèƒ½**ï¼š
- æä¾›Mock APIæœåŠ¡
- è¿”å›é¢„è®¾çš„æµ‹è¯•æ•°æ®
- æ”¯æŒè‡ªå®šä¹‰å“åº”
- æ”¯æŒå»¶è¿Ÿæ¨¡æ‹Ÿ

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# å¯åŠ¨MockæœåŠ¡
python scripts/mock-api-server.py --port 9999

# å‰ç«¯è¿æ¥MockæœåŠ¡
# ä¿®æ”¹ frontend/src/config/api.ts
# API_BASE_URL = 'http://localhost:9999/api'
```

---

### 4. APIæµ‹è¯•è„šæœ¬

**æ–‡ä»¶**ï¼š`scripts/test-business-flow.sh`

**åŠŸèƒ½**ï¼š
- æµ‹è¯•å®Œæ•´ä¸šåŠ¡æµ
- éªŒè¯APIå“åº”
- ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# æ‰§è¡Œä¸šåŠ¡æµæµ‹è¯•
bash scripts/test-business-flow.sh

# æµ‹è¯•ç‰¹å®šåœºæ™¯
bash scripts/test-business-flow.sh --scenario job_seeker_flow
```

---

## ğŸ“ æµ‹è¯•æ•°æ®è§„æ ¼

### åŸºç¡€æ•°æ®è§„æ¨¡

| æ•°æ®ç±»å‹ | æ•°é‡ | è¯´æ˜ |
|---------|------|------|
| ç”¨æˆ· | 50-100 | åŒ…å«æ±‚èŒè€…ã€HRã€ä¼ä¸šç®¡ç†å‘˜ |
| ä¼ä¸š | 20-30 | åŒ…å«å·²è®¤è¯ã€æœªè®¤è¯ |
| èŒä½ | 100-200 | ä¸åŒç±»å‹ã€ä¸åŒçŠ¶æ€ |
| ç®€å† | 80-150 | ä¸åŒæ ¼å¼ã€ä¸åŒçŠ¶æ€ |
| ç”³è¯·è®°å½• | 50-100 | ä¸åŒçŠ¶æ€ |
| AIåŒ¹é…è®°å½• | 30-50 | ä¸åŒåŒ¹é…åº¦ |
| èŠå¤©è®°å½• | 100-200 | ä¸åŒç±»å‹ |

### ä¸šåŠ¡æµæ•°æ®

**æ±‚èŒè€…æµç¨‹**ï¼š
- 10ä¸ªæ±‚èŒè€…è´¦æˆ·
- æ¯ä¸ªè´¦æˆ·1-3ä»½ç®€å†
- æ¯ä¸ªè´¦æˆ·5-10ä¸ªç”³è¯·è®°å½•
- æ¯ä¸ªè´¦æˆ·10-20æ¡AIåŒ¹é…è®°å½•

**ä¼ä¸šæµç¨‹**ï¼š
- 5ä¸ªä¼ä¸šè´¦æˆ·
- æ¯ä¸ªä¼ä¸š10-20ä¸ªèŒä½
- æ¯ä¸ªä¼ä¸š20-50ä¸ªç”³è¯·è®°å½•
- æ¯ä¸ªä¼ä¸š10-20ä¸ªç»Ÿè®¡è®°å½•

---

## ğŸ”„ å‰åç«¯è”è°ƒæµç¨‹

### é˜¶æ®µ1ï¼šæ•°æ®å‡†å¤‡

```bash
# 1. åˆå§‹åŒ–æ•°æ®åº“
psql -U postgres -d zervigo_unified -f databases/postgres/init/01-init-schema.sql
psql -U postgres -d zervigo_unified -f databases/postgres/init/02-zervigo-microservices-schema.sql

# 2. ç”Ÿæˆæµ‹è¯•æ•°æ®
python scripts/comprehensive_test_data_generator.py --users 50 --companies 20 --jobs 100 --resumes 80

# 3. éªŒè¯æ•°æ®
psql -U postgres -d zervigo_unified -c "SELECT COUNT(*) FROM users;"
psql -U postgres -d zervigo_unified -c "SELECT COUNT(*) FROM companies;"
psql -U postgres -d zervigo_unified -c "SELECT COUNT(*) FROM jobs;"
```

---

### é˜¶æ®µ2ï¼šåç«¯å¯åŠ¨

```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½
bash scripts/start-consul.sh
bash scripts/start-central-brain.sh

# 2. å¯åŠ¨ä¸šåŠ¡æœåŠ¡
bash scripts/start-phase2-services.sh

# 3. éªŒè¯æœåŠ¡å¥åº·
bash scripts/comprehensive_health_check.sh
```

---

### é˜¶æ®µ3ï¼šå‰ç«¯æ¥å…¥

```bash
# 1. å‰ç«¯å¼€å‘ç¯å¢ƒ
cd frontend
npm install
npm run dev:h5  # æˆ– npm run dev:weapp

# 2. é…ç½®APIåœ°å€
# frontend/src/config/api.ts
export const API_BASE_URL = 'http://localhost:9000/api/v1'

# 3. æµ‹è¯•ç™»å½•
# ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
# username: test_user_001
# password: test123456
```

---

### é˜¶æ®µ4ï¼šä¸šåŠ¡æµéªŒè¯

```bash
# 1. æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
curl -X POST http://localhost:9000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test_user","email":"test@example.com","password":"test123456"}'

# 2. æµ‹è¯•ç™»å½•
curl -X POST http://localhost:9000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test_user","password":"test123456"}'

# 3. æµ‹è¯•åˆ›å»ºç®€å†
curl -X POST http://localhost:9000/api/v1/resume/create \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"resume_name":"æˆ‘çš„ç®€å†","personal_info":{...}}'

# 4. æµ‹è¯•æœç´¢èŒä½
curl -X GET "http://localhost:9000/api/v1/job/search?keyword=è½¯ä»¶å·¥ç¨‹å¸ˆ" \
  -H "Authorization: Bearer <token>"
```

---

## ğŸ¨ Mockæ•°æ®æœåŠ¡è®¾è®¡

### MockæœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Mock API Server                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GET  /api/v1/users          â†’ è¿”å›ç”¨æˆ·åˆ—è¡¨                â”‚
â”‚  GET  /api/v1/users/:id      â†’ è¿”å›ç”¨æˆ·è¯¦æƒ…                â”‚
â”‚  POST /api/v1/auth/login     â†’ è¿”å›Mock Token             â”‚
â”‚  GET  /api/v1/jobs           â†’ è¿”å›èŒä½åˆ—è¡¨                â”‚
â”‚  GET  /api/v1/resumes        â†’ è¿”å›ç®€å†åˆ—è¡¨                â”‚
â”‚  ...æ›´å¤šAPI                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Mockæ•°æ®æ ¼å¼

**ç”¨æˆ·æ•°æ®**ï¼š
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "users": [
      {
        "user_id": 1,
        "username": "test_user_001",
        "email": "test001@example.com",
        "role": "job_seeker",
        "profile": {
          "real_name": "æµ‹è¯•ç”¨æˆ·001",
          "avatar": "https://example.com/avatar1.jpg",
          "location": "æ·±åœ³"
        }
      }
    ],
    "total": 50,
    "page": 1,
    "page_size": 20
  }
}
```

**èŒä½æ•°æ®**ï¼š
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "jobs": [
      {
        "job_id": 1,
        "company_id": 1,
        "company_name": "ç§‘æŠ€å…¬å¸A",
        "job_title": "é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ",
        "job_description": "è´Ÿè´£åç«¯æœåŠ¡å¼€å‘...",
        "salary_min": 20000,
        "salary_max": 35000,
        "location": "æ·±åœ³",
        "work_type": "full-time"
      }
    ],
    "total": 100,
    "page": 1,
    "page_size": 20
  }
}
```

---

## ğŸ“‹ æµ‹è¯•æ•°æ®ç”Ÿæˆè„šæœ¬å®ç°

### 1. å®Œæ•´ä¸šåŠ¡æµæ•°æ®ç”Ÿæˆå™¨

**å®ç°æ€è·¯**ï¼š
```python
#!/usr/bin/env python3
# scripts/comprehensive_test_data_generator.py

import asyncio
import asyncpg
import json
import random
from datetime import datetime, timedelta
from faker import Faker

fake = Faker('zh_CN')

class TestDataGenerator:
    def __init__(self, db_config):
        self.db_config = db_config
        self.conn = None
        
    async def connect(self):
        self.conn = await asyncpg.connect(**self.db_config)
        
    async def generate_users(self, count=50):
        """ç”Ÿæˆç”¨æˆ·æ•°æ®"""
        users = []
        for i in range(count):
            role = random.choice(['job_seeker', 'hr', 'company_admin'])
            user = {
                'username': f'test_user_{i+1:03d}',
                'email': f'test{i+1:03d}@example.com',
                'phone': f'138{random.randint(10000000, 99999999)}',
                'password_hash': '$2a$10$...',  # bcrypt hash of 'test123456'
                'role': role,
                'real_name': fake.name(),
                'location': fake.city(),
                'status': 'active'
            }
            users.append(user)
        return users
    
    async def generate_companies(self, count=20):
        """ç”Ÿæˆä¼ä¸šæ•°æ®"""
        companies = []
        for i in range(count):
            company = {
                'company_name': f'{fake.company()}ç§‘æŠ€æœ‰é™å…¬å¸',
                'industry': random.choice(['äº’è”ç½‘', 'é‡‘è', 'åˆ¶é€ ä¸š', 'æœåŠ¡ä¸š']),
                'company_size': random.choice(['1-50', '51-200', '201-500', '500+']),
                'city': fake.city(),
                'status': random.choice(['active', 'pending']),
                'verification_status': random.choice(['verified', 'pending', 'rejected'])
            }
            companies.append(company)
        return companies
    
    async def generate_jobs(self, companies, count=100):
        """ç”ŸæˆèŒä½æ•°æ®"""
        jobs = []
        job_titles = ['è½¯ä»¶å·¥ç¨‹å¸ˆ', 'äº§å“ç»ç†', 'UIè®¾è®¡å¸ˆ', 'æ•°æ®åˆ†æå¸ˆ', 'æµ‹è¯•å·¥ç¨‹å¸ˆ']
        for i in range(count):
            company = random.choice(companies)
            job = {
                'company_id': company['company_id'],
                'job_title': random.choice(job_titles),
                'job_description': fake.text(max_nb_chars=500),
                'job_requirements': fake.text(max_nb_chars=300),
                'salary_min': random.randint(10000, 20000),
                'salary_max': random.randint(25000, 50000),
                'location': fake.city(),
                'status': random.choice(['active', 'closed', 'draft'])
            }
            jobs.append(job)
        return jobs
    
    async def generate_resumes(self, users, count=80):
        """ç”Ÿæˆç®€å†æ•°æ®"""
        resumes = []
        for i in range(count):
            user = random.choice(users)
            resume = {
                'user_id': user['user_id'],
                'resume_name': f'{user["real_name"]}çš„ç®€å†',
                'personal_info': json.dumps({
                    'name': user['real_name'],
                    'email': user['email'],
                    'phone': user['phone'],
                    'location': user['location']
                }),
                'work_experience': json.dumps([
                    {
                        'company': fake.company(),
                        'position': fake.job(),
                        'duration': f'{random.randint(1, 5)}å¹´',
                        'responsibilities': fake.text(max_nb_chars=200)
                    }
                ]),
                'education': json.dumps([
                    {
                        'school': fake.company() + 'å¤§å­¦',
                        'degree': random.choice(['æœ¬ç§‘', 'ç¡•å£«', 'åšå£«']),
                        'major': fake.job(),
                        'graduation_year': str(random.randint(2015, 2023))
                    }
                ]),
                'skills': json.dumps([fake.job() for _ in range(random.randint(3, 8))]),
                'status': random.choice(['active', 'draft'])
            }
            resumes.append(resume)
        return resumes
    
    async def insert_data(self, table, data):
        """æ’å…¥æ•°æ®åˆ°æ•°æ®åº“"""
        # å®ç°æ•°æ®åº“æ’å…¥é€»è¾‘
        pass
    
    async def generate_full_business_flow(self):
        """ç”Ÿæˆå®Œæ•´ä¸šåŠ¡æµæ•°æ®"""
        # 1. ç”ŸæˆåŸºç¡€æ•°æ®
        users = await self.generate_users(50)
        companies = await self.generate_companies(20)
        
        # 2. æ’å…¥åŸºç¡€æ•°æ®
        await self.insert_data('users', users)
        await self.insert_data('companies', companies)
        
        # 3. ç”Ÿæˆä¸šåŠ¡æ•°æ®
        jobs = await self.generate_jobs(companies, 100)
        resumes = await self.generate_resumes(users, 80)
        
        # 4. æ’å…¥ä¸šåŠ¡æ•°æ®
        await self.insert_data('jobs', jobs)
        await self.insert_data('resumes', resumes)
        
        # 5. ç”Ÿæˆå…³è”æ•°æ®
        applications = await self.generate_applications(resumes, jobs, 50)
        matches = await self.generate_ai_matches(resumes, jobs, 30)
        
        # 6. æ’å…¥å…³è”æ•°æ®
        await self.insert_data('job_applications', applications)
        await self.insert_data('ai_matches', matches)
        
        print("âœ… å®Œæ•´ä¸šåŠ¡æµæ•°æ®ç”Ÿæˆå®Œæˆï¼")
```

---

## ğŸ” æˆåŠŸæ¡ˆä¾‹å‚è€ƒ

### æ¡ˆä¾‹1ï¼šåˆ†å±‚æ•°æ®ç”Ÿæˆ

**ç»éªŒ**ï¼š
- âœ… åŸºç¡€æ•°æ® â†’ ä¸šåŠ¡æ•°æ® â†’ å…³è”æ•°æ®ï¼Œåˆ†å±‚ç”Ÿæˆ
- âœ… ä¿è¯æ•°æ®å…³è”æ€§ï¼Œé¿å…å­¤ç«‹æ•°æ®
- âœ… æ”¯æŒå¢é‡ç”Ÿæˆï¼Œå¯ä»¥é€æ­¥å®Œå–„

---

### æ¡ˆä¾‹2ï¼šMockæœåŠ¡ + çœŸå®æ•°æ®æ··åˆ

**ç»éªŒ**ï¼š
- âœ… å‰ç«¯å¼€å‘é˜¶æ®µä½¿ç”¨MockæœåŠ¡
- âœ… è”è°ƒé˜¶æ®µåˆ‡æ¢åˆ°çœŸå®API
- âœ… Mockæ•°æ®æ ¼å¼ä¸çœŸå®APIä¿æŒä¸€è‡´

---

### æ¡ˆä¾‹3ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•æ•°æ®ç”Ÿæˆ

**ç»éªŒ**ï¼š
- âœ… æ¯æ¬¡æµ‹è¯•å‰è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æ•°æ®
- âœ… æµ‹è¯•åè‡ªåŠ¨æ¸…ç†
- âœ… ä¿è¯æµ‹è¯•ç¯å¢ƒçš„ä¸€è‡´æ€§

---

## ğŸ“Š å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€æ•°æ®ç”Ÿæˆï¼ˆ1-2å¤©ï¼‰

**ä»»åŠ¡**ï¼š
- âœ… ç¼–å†™SQLç§å­è„šæœ¬
- âœ… ç”ŸæˆåŸºç¡€ç”¨æˆ·ã€è§’è‰²ã€æƒé™æ•°æ®
- âœ… ç”ŸæˆåŸºç¡€ä¼ä¸šæ•°æ®

**äº¤ä»˜ç‰©**ï¼š
- `databases/postgres/init/10-seed-test-data.sql`

---

### Phase 2: ä¸šåŠ¡æ•°æ®ç”Ÿæˆå™¨ï¼ˆ2-3å¤©ï¼‰

**ä»»åŠ¡**ï¼š
- âœ… ç¼–å†™Pythonæ•°æ®ç”Ÿæˆå™¨
- âœ… å®ç°ä¸šåŠ¡æ•°æ®ç”Ÿæˆé€»è¾‘
- âœ… å®ç°æ•°æ®å…³è”é€»è¾‘

**äº¤ä»˜ç‰©**ï¼š
- `scripts/comprehensive_test_data_generator.py`

---

### Phase 3: MockæœåŠ¡ï¼ˆ1-2å¤©ï¼‰

**ä»»åŠ¡**ï¼š
- âœ… æ­å»ºMock APIæœåŠ¡
- âœ… å®šä¹‰Mockæ•°æ®æ ¼å¼
- âœ… å‰ç«¯æ¥å…¥MockæœåŠ¡

**äº¤ä»˜ç‰©**ï¼š
- `scripts/mock-api-server.py`
- `frontend/src/mocks/` (Mockæ•°æ®æ–‡ä»¶)

---

### Phase 4: ä¸šåŠ¡æµéªŒè¯ï¼ˆ1å¤©ï¼‰

**ä»»åŠ¡**ï¼š
- âœ… ç¼–å†™ä¸šåŠ¡æµæµ‹è¯•è„šæœ¬
- âœ… éªŒè¯å®Œæ•´ä¸šåŠ¡æµç¨‹
- âœ… ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

**äº¤ä»˜ç‰©**ï¼š
- `scripts/test-business-flow.sh`
- `docs/BUSINESS_FLOW_TEST_REPORT.md`

---

## âœ… æ€»ç»“

### æ ¸å¿ƒæ–¹æ¡ˆ

1. **SQLç§å­è„šæœ¬**ï¼šåŸºç¡€æ•°æ®ï¼Œå¿«é€Ÿç”Ÿæˆ
2. **Pythonç”Ÿæˆå™¨**ï¼šä¸šåŠ¡æ•°æ®ï¼Œçµæ´»å¯æ§
3. **MockæœåŠ¡**ï¼šå‰ç«¯ç‹¬ç«‹å¼€å‘ï¼Œå¹¶è¡Œå·¥ä½œ
4. **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šä¸šåŠ¡æµéªŒè¯ï¼ŒæŒç»­é›†æˆ

### å…³é”®ä¼˜åŠ¿

- âœ… **æ•°æ®é‡å¯æ§**ï¼šå¯ä»¥æŒ‰éœ€ç”Ÿæˆæ•°æ®
- âœ… **å…³è”æ€§ä¿è¯**ï¼šæ•°æ®ä¹‹é—´æœ‰æ­£ç¡®çš„å…³è”å…³ç³»
- âœ… **å¿«é€Ÿé‡ç½®**ï¼šå¯ä»¥å¿«é€Ÿæ¸…ç†å’Œé‡æ–°ç”Ÿæˆ
- âœ… **å‰åç«¯å¹¶è¡Œ**ï¼šMockæœåŠ¡æ”¯æŒå‰ç«¯ç‹¬ç«‹å¼€å‘

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. **ç«‹å³å®æ–½**ï¼šç¼–å†™SQLç§å­è„šæœ¬
2. **æœ¬å‘¨å®Œæˆ**ï¼šPythonæ•°æ®ç”Ÿæˆå™¨
3. **ä¸‹å‘¨å®Œæˆ**ï¼šMockæœåŠ¡å’Œå‰ç«¯æ¥å…¥
4. **æŒç»­ä¼˜åŒ–**ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´æ•°æ®ç”Ÿæˆç­–ç•¥

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-01-29  
**å…³é”®å»ºè®®**: é‡‡ç”¨æ··åˆæ–¹æ¡ˆï¼ŒSQLç§å­è„šæœ¬ + Pythonç”Ÿæˆå™¨ + MockæœåŠ¡ï¼Œæ”¯æŒä¸åŒé˜¶æ®µçš„å¼€å‘éœ€æ±‚

