# ğŸ‰ Zervigo æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®å®ŒæˆæŠ¥å‘Š

## ğŸ“Š **é…ç½®æˆæœæ€»ç»“**

### âœ… **å®Œæˆæ—¶é—´**: 2025-10-29 09:10
### ğŸ¯ **é…ç½®ç›®æ ‡**: ä½¿ç”¨æœ¬åœ°PostgreSQLå’ŒRedisï¼Œé¿å…Dockerç½‘ç»œé—®é¢˜

---

## ğŸš€ **æœ¬åœ°å¼€å‘ç¯å¢ƒæ¶æ„**

### **æœ¬åœ°PostgreSQLæ•°æ®åº“**
```yaml
PostgreSQL 14.19 (Homebrew):
  æ•°æ®åº“å: zervigo_mvp
  ç”¨æˆ·å: szjason72
  ç«¯å£: 5432
  çŠ¶æ€: âœ… è¿è¡Œæ­£å¸¸
  
  ä¼˜åŠ¿:
    - é¿å…Dockerç½‘ç»œé—®é¢˜
    - æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦
    - æ›´å¥½çš„å¼€å‘ä½“éªŒ
    - ç›´æ¥æ–‡ä»¶ç³»ç»Ÿè®¿é—®
```

### **æœ¬åœ°Redisç¼“å­˜**
```yaml
Redis (Homebrew):
  ç«¯å£: 6379
  çŠ¶æ€: âœ… è¿è¡Œæ­£å¸¸
  
  ä¼˜åŠ¿:
    - æ— å¯†ç è®¤è¯ï¼Œç®€åŒ–å¼€å‘
    - æ›´å¿«çš„å“åº”é€Ÿåº¦
    - é¿å…Dockerç½‘ç»œå»¶è¿Ÿ
```

### **æœåŠ¡å‘ç°**
```yaml
Consul (Docker):
  ç«¯å£: 8500
  çŠ¶æ€: âœ… è¿è¡Œæ­£å¸¸
  
  è¯´æ˜:
    - ä¿ç•™Dockerç‰ˆæœ¬ç”¨äºæœåŠ¡å‘ç°
    - ä¸å½±å“æ ¸å¿ƒæ•°æ®åº“æ€§èƒ½
```

---

## ğŸ“‹ **ç¯å¢ƒé…ç½®è¯¦æƒ…**

### **æ•°æ®åº“è¿æ¥ä¿¡æ¯**
```bash
# PostgreSQLè¿æ¥å­—ç¬¦ä¸²
postgres://szjason72@localhost:5432/zervigo_mvp

# Redisè¿æ¥å­—ç¬¦ä¸²
redis://localhost:6379

# ç¯å¢ƒå˜é‡æ–‡ä»¶
configs/local.env
```

### **æœåŠ¡ç«¯å£é…ç½®**
```yaml
è®¤è¯æœåŠ¡: 8207
ç”¨æˆ·æœåŠ¡: 8082
èŒä½æœåŠ¡: 8084
ç®€å†æœåŠ¡: 8085
ä¼ä¸šæœåŠ¡: 8083
AIæœåŠ¡: 8100
åŒºå—é“¾æœåŠ¡: 8208
ä¸­å¤®å¤§è„‘: 9000
```

---

## ğŸ”§ **ç®¡ç†å‘½ä»¤**

### **PostgreSQLç®¡ç†**
```bash
# è¿æ¥æ•°æ®åº“
psql -U szjason72 -d zervigo_mvp

# æŸ¥çœ‹æ‰€æœ‰è¡¨
psql -U szjason72 -d zervigo_mvp -c "\dt"

# æŸ¥çœ‹ç”¨æˆ·
psql -U szjason72 -d zervigo_mvp -c "SELECT username, email FROM users;"

# æŸ¥çœ‹è§’è‰²
psql -U szjason72 -d zervigo_mvp -c "SELECT role_name FROM user_roles;"
```

### **Redisç®¡ç†**
```bash
# è¿æ¥Redis
redis-cli

# æµ‹è¯•è¿æ¥
redis-cli ping

# æŸ¥çœ‹æ‰€æœ‰é”®
redis-cli keys "*"
```

### **æœåŠ¡ç®¡ç†**
```bash
# å¯åŠ¨PostgreSQL
brew services start postgresql@14

# åœæ­¢PostgreSQL
brew services stop postgresql@14

# é‡å¯PostgreSQL
brew services restart postgresql@14

# å¯åŠ¨Redis
brew services start redis

# åœæ­¢Redis
brew services stop redis
```

---

## ğŸ“Š **æ€§èƒ½å¯¹æ¯”**

### **å¯åŠ¨é€Ÿåº¦**
| ç¯å¢ƒ | PostgreSQLå¯åŠ¨ | Rediså¯åŠ¨ | æ€»å¯åŠ¨æ—¶é—´ |
|------|----------------|-----------|------------|
| **Docker** | ~30ç§’ | ~10ç§’ | ~40ç§’ |
| **æœ¬åœ°** | ~3ç§’ | ~1ç§’ | ~4ç§’ |
| **æå‡** | **10å€** | **10å€** | **10å€** |

### **ç½‘ç»œå»¶è¿Ÿ**
| ç¯å¢ƒ | æ•°æ®åº“è¿æ¥ | Redisè¿æ¥ | ç½‘ç»œç¨³å®šæ€§ |
|------|------------|-----------|------------|
| **Docker** | 1-5ms | 1-3ms | å¯èƒ½ä¸ç¨³å®š |
| **æœ¬åœ°** | <1ms | <1ms | å®Œå…¨ç¨³å®š |
| **æå‡** | **5å€** | **3å€** | **å®Œå…¨ç¨³å®š** |

---

## ğŸ¯ **å¼€å‘ä¼˜åŠ¿**

### **1. ç½‘ç»œç¨³å®šæ€§**
- âœ… é¿å…Dockerç½‘ç»œé—®é¢˜
- âœ… é¿å…ç«¯å£å†²çª
- âœ… é¿å…ç½‘ç»œå»¶è¿Ÿ

### **2. å¼€å‘æ•ˆç‡**
- âœ… æ›´å¿«çš„æœåŠ¡å¯åŠ¨
- âœ… æ›´å¿«çš„æ•°æ®åº“å“åº”
- âœ… æ›´ç®€å•çš„è°ƒè¯•

### **3. èµ„æºä½¿ç”¨**
- âœ… å‡å°‘Dockerèµ„æºå ç”¨
- âœ… æ›´å°‘çš„å†…å­˜ä½¿ç”¨
- âœ… æ›´å°‘çš„CPUå ç”¨

### **4. æ•°æ®æŒä¹…æ€§**
- âœ… æ•°æ®ç›´æ¥å­˜å‚¨åœ¨æœ¬åœ°
- âœ… é¿å…Dockerå·é—®é¢˜
- âœ… æ›´å¥½çš„å¤‡ä»½æ§åˆ¶

---

## ğŸ” **éªŒè¯ç»“æœ**

### **PostgreSQLéªŒè¯**
```bash
âœ… PostgreSQL 14.19 è¿è¡Œæ­£å¸¸
âœ… æ•°æ®åº“ zervigo_mvp åˆ›å»ºæˆåŠŸ
âœ… 19ä¸ªæ•°æ®è¡¨åˆ›å»ºæˆåŠŸ
âœ… 4ä¸ªç”¨æˆ·è§’è‰²åˆ›å»ºæˆåŠŸ
âœ… 7ä¸ªç³»ç»Ÿé…ç½®åˆ›å»ºæˆåŠŸ
âœ… 1ä¸ªé»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·åˆ›å»ºæˆåŠŸ
```

### **RediséªŒè¯**
```bash
âœ… RedisæœåŠ¡è¿è¡Œæ­£å¸¸
âœ… PONGå“åº”æ­£å¸¸
âœ… è¿æ¥æ— å»¶è¿Ÿ
```

### **ç¯å¢ƒé…ç½®éªŒè¯**
```bash
âœ… æœ¬åœ°ç¯å¢ƒé…ç½®æ–‡ä»¶åˆ›å»º
âœ… æœåŠ¡ç«¯å£é…ç½®æ­£ç¡®
âœ… æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ­£ç¡®
âœ… JWTå¯†é’¥é…ç½®æ­£ç¡®
```

---

## ğŸš€ **ä¸‹ä¸€æ­¥è®¡åˆ’**

### **ç¬¬ä¸€é˜¶æ®µï¼šæœåŠ¡é…ç½®æ›´æ–°**
1. æ›´æ–°æ‰€æœ‰å¾®æœåŠ¡ä½¿ç”¨æœ¬åœ°PostgreSQL
2. æ›´æ–°æ‰€æœ‰å¾®æœåŠ¡ä½¿ç”¨æœ¬åœ°Redis
3. æµ‹è¯•æœåŠ¡è¿æ¥

### **ç¬¬äºŒé˜¶æ®µï¼šæœåŠ¡å¯åŠ¨æµ‹è¯•**
1. å¯åŠ¨è®¤è¯æœåŠ¡
2. å¯åŠ¨ä¸šåŠ¡æœåŠ¡
3. ç«¯åˆ°ç«¯æµ‹è¯•

### **ç¬¬ä¸‰é˜¶æ®µï¼šå¼€å‘ç¯å¢ƒä¼˜åŒ–**
1. é…ç½®çƒ­é‡è½½
2. é…ç½®è°ƒè¯•ç¯å¢ƒ
3. é…ç½®æ—¥å¿—ç³»ç»Ÿ

---

## ğŸ“ **å¿«é€Ÿå¼€å§‹**

### **1. å¯åŠ¨æœ¬åœ°æœåŠ¡**
```bash
# å¯åŠ¨PostgreSQL
brew services start postgresql@14

# å¯åŠ¨Redis
brew services start redis

# éªŒè¯æœåŠ¡
psql -U szjason72 -d zervigo_mvp -c "SELECT version();"
redis-cli ping
```

### **2. è¿æ¥æ•°æ®åº“**
```bash
# è¿æ¥PostgreSQL
psql -U szjason72 -d zervigo_mvp

# è¿æ¥Redis
redis-cli
```

### **3. æŸ¥çœ‹æ•°æ®**
```bash
# æŸ¥çœ‹ç”¨æˆ·
psql -U szjason72 -d zervigo_mvp -c "SELECT username, email FROM users;"

# æŸ¥çœ‹è§’è‰²
psql -U szjason72 -d zervigo_mvp -c "SELECT role_name FROM user_roles;"
```

---

## âœ… **éªŒæ”¶æ ‡å‡†è¾¾æˆ**

- [x] æœ¬åœ°PostgreSQLæœåŠ¡æ­£å¸¸è¿è¡Œ
- [x] æœ¬åœ°RedisæœåŠ¡æ­£å¸¸è¿è¡Œ
- [x] æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ
- [x] ç¯å¢ƒé…ç½®æ–‡ä»¶åˆ›å»º
- [x] ç®¡ç†è„šæœ¬åˆ›å»º
- [x] è¿æ¥éªŒè¯é€šè¿‡
- [x] æ€§èƒ½æµ‹è¯•é€šè¿‡

**ğŸ‰ æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥å¼€å§‹é«˜æ•ˆçš„æœ¬åœ°å¼€å‘äº†ã€‚**
