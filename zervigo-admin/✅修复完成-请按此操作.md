# âœ… Zervigo Admin æ‰€æœ‰é—®é¢˜å·²ä¿®å¤ - è¯·æŒ‰æ­¤æ“ä½œ

## ğŸ‰ ä¿®å¤å®Œæˆæ¸…å•

| é—®é¢˜ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| "ç™»å½•å“åº”æ ¼å¼é”™è¯¯" | âœ… å·²ä¿®å¤ | ä¿®æ­£äº†å“åº”æ•°æ®è®¿é—®è·¯å¾„ |
| æ¨¡å—å¯¼å…¥å¤±è´¥ | âœ… å·²ä¿®å¤ | æ·»åŠ äº†è·¯å¾„åˆ«åé…ç½® |
| TypeScript ç¼–è¯‘é”™è¯¯ | âœ… å·²ä¿®å¤ | ä¿®æ­£äº†ç±»å‹å¯¼å…¥ |
| ç«¯å£æ˜¾ç¤ºé”™è¯¯ | âœ… å·²ä¿®å¤ | æ›´æ­£ä¸º 3000 ç«¯å£ |
| å¯†ç ä¿¡æ¯é”™è¯¯ | âœ… å·²ä¿®å¤ | æ›´æ­£ä¸º admin123 |

## ğŸš€ ç«‹å³å¼€å§‹ä½¿ç”¨

### æ–¹å¼ä¸€ï¼šä½¿ç”¨æµ‹è¯•è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd /Users/szjason72/gozervi/zervigo.demo/zervigo-admin
./ä¸€é”®å¯åŠ¨æµ‹è¯•.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- âœ… æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€
- âœ… æµ‹è¯•åç«¯ç™»å½•æ¥å£
- âœ… æ£€æŸ¥å‰ç«¯ä¾èµ–
- âœ… æ˜¾ç¤ºä½¿ç”¨æŒ‡å—
- âœ… å¯åŠ¨å‰ç«¯æœåŠ¡

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨

#### æ­¥éª¤ 1: å¯åŠ¨åç«¯

**æ–°å»ºç»ˆç«¯çª—å£ 1**:
```bash
cd /Users/szjason72/gozervi/zervigo.demo/shared/central-brain
go run .
```

ç­‰å¾…çœ‹åˆ°ï¼š
```
ğŸ§  Zervigoä¸­å¤®å¤§è„‘å¯åŠ¨åœ¨ç«¯å£ 9000
âœ… æœåŠ¡å¯åŠ¨æˆåŠŸ
```

#### æ­¥éª¤ 2: å¯åŠ¨å‰ç«¯

**æ–°å»ºç»ˆç«¯çª—å£ 2**:
```bash
cd /Users/szjason72/gozervi/zervigo.demo/zervigo-admin
npm run dev
```

ç­‰å¾…çœ‹åˆ°ï¼š
```
VITE v7.2.0  ready in 395 ms
âœ  Local:   http://localhost:3000/
```

#### æ­¥éª¤ 3: è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:3000**

---

## ğŸ” ç™»å½•ä¿¡æ¯

```
ç”¨æˆ·å: admin
å¯†ç :   admin123
```

---

## âœ… ä¿®å¤çš„æŠ€æœ¯ç»†èŠ‚

### 1. å“åº”æ ¼å¼å¤„ç†

**é—®é¢˜ä»£ç **:
```typescript
// Login.vue (é”™è¯¯)
if (res.data && res.data.token) {  // âŒ res.data æ˜¯ undefined
  localStorage.setItem('token', res.data.token)
}
```

**ä¿®å¤å**:
```typescript
// Login.vue (æ­£ç¡®)
if (res && res.token) {  // âœ… res å°±æ˜¯ data å¯¹è±¡
  localStorage.setItem('token', res.token)
}
```

**åŸå› **: `request.ts` å“åº”æ‹¦æˆªå™¨å·²ç»è¿”å›äº† `response.data.data`

### 2. è·¯å¾„åˆ«åé…ç½®

**vite.config.ts** - æ·»åŠ ï¼š
```typescript
resolve: {
  alias: {
    '@': fileURLToPath(new URL('./src', import.meta.url))
  }
}
```

**tsconfig.app.json** - æ·»åŠ ï¼š
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### 3. TypeScript ç±»å‹å¯¼å…¥

**ä¿®å¤å‰**:
```typescript
import { ref, computed, Ref } from 'vue'  // âŒ æœªä½¿ç”¨çš„å¯¼å…¥
```

**ä¿®å¤å**:
```typescript
import { ref, type Ref } from 'vue'  // âœ… ä½¿ç”¨ type å¯¼å…¥
```

### 4. å“åº”æ‹¦æˆªå™¨å…¼å®¹æ€§

**å¢å¼º**:
```typescript
// å…¼å®¹å¤šç§åç«¯å“åº”æ ¼å¼
const isSuccess = 
  res.code === 0 ||               // Zervigo/VueCMF
  res.code === 200 ||             // HTTP Code
  res.status === 'success' ||     // å…¶ä»–æ ¼å¼
  res.success === true

if (isSuccess) {
  return res.data || res  // æ™ºèƒ½è¿”å›
}
```

---

## ğŸ“Š æµ‹è¯•æ¸…å•

### å‰ç«¯æµ‹è¯•

- [ ] è®¿é—® http://localhost:3000 èƒ½çœ‹åˆ°ç™»å½•é¡µ
- [ ] æ§åˆ¶å°æ— æ¨¡å—åŠ è½½é”™è¯¯
- [ ] è¾“å…¥è´¦å·å¯†ç åç‚¹å‡»ç™»å½•
- [ ] æ§åˆ¶å°æ˜¾ç¤º `ç™»å½•å“åº”: { token: "...", user: {...} }`
- [ ] æç¤º"ç™»å½•æˆåŠŸï¼"
- [ ] è·³è½¬åˆ°é¦–é¡µ
- [ ] èƒ½çœ‹åˆ°èœå•ï¼ˆé™æ€æˆ–åŠ¨æ€ï¼‰

### åç«¯æµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:9000/health
# é¢„æœŸ: {"status":"healthy"}

# ç™»å½•æµ‹è¯•
curl -X POST http://localhost:9000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
# é¢„æœŸ: {"code":0,"data":{"token":"...","user":{...}},"message":"Login successful"}

# èœå•æµ‹è¯•
curl http://localhost:9000/api/v1/router/menu/list
# é¢„æœŸ: {"code":200,"data":[...]}
```

---

## ğŸ¯ å¦‚æœä»æœ‰é—®é¢˜

### æ¸…é™¤ç¼“å­˜é‡æ–°å¼€å§‹

```bash
cd /Users/szjason72/gozervi/zervigo.demo/zervigo-admin

# 1. æ¸…é™¤ä¾èµ–
rm -rf node_modules package-lock.json

# 2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
# æ‰“å¼€æµè§ˆå™¨ â†’ å¼€å‘è€…å·¥å…· (F12) â†’ Application â†’ Storage â†’ Clear Site Data

# 3. é‡æ–°å®‰è£…
npm install

# 4. é‡æ–°å¯åŠ¨
npm run dev
```

### æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰:

1. **Console æ ‡ç­¾** - æŸ¥çœ‹ JavaScript æ—¥å¿—
   - ç™»å½•å“åº”æ—¥å¿—
   - è·¯ç”±åŠ è½½æ—¥å¿—
   - é”™è¯¯ä¿¡æ¯

2. **Network æ ‡ç­¾** - æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
   - login è¯·æ±‚çš„çŠ¶æ€ç 
   - å“åº”å†…å®¹
   - è¯·æ±‚å¤´å’Œå“åº”å¤´

3. **Application æ ‡ç­¾** - æŸ¥çœ‹å­˜å‚¨
   - LocalStorage ä¸­çš„ token
   - LocalStorage ä¸­çš„ userInfo

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| `APIå“åº”æ ¼å¼è¯´æ˜.md` | åç«¯å“åº”æ ¼å¼è¯¦è§£ |
| `ç™»å½•ä¿®å¤è¯´æ˜.md` | ç™»å½•åŠŸèƒ½ä¿®å¤è¯¦æƒ… |
| `é—®é¢˜æ’æŸ¥æ‰‹å†Œ.md` | å®Œæ•´é—®é¢˜æ’æŸ¥æµç¨‹ |
| `å®Œæ•´å¯åŠ¨æŒ‡å—.md` | å‰åç«¯å¯åŠ¨æ­¥éª¤ |
| `QUICK_START.md` | å¿«é€Ÿå¼€å§‹ |

---

## ğŸ’¡ é‡è¦æç¤º

### âš ï¸ å¿…é¡»å…ˆå¯åŠ¨åç«¯

ç™»å½•åŠŸèƒ½**å¿…é¡»è¦åç«¯æœåŠ¡**æ‰èƒ½å·¥ä½œï¼š

```
å‰ç«¯ (localhost:3000)
      â†“ HTTP Request
åç«¯ (localhost:9000)
      â†“ éªŒè¯è´¦å·
æ•°æ®åº“/Auth Service
```

æ²¡æœ‰åç«¯ â†’ ç™»å½•è¯·æ±‚å¤±è´¥ â†’ æ— æ³•ç™»å½•

### âœ… è®¿é—®æ­£ç¡®çš„åœ°å€

- **æ­£ç¡®**: http://localhost:3000
- **é”™è¯¯**: ~~http://localhost:5173~~

ä»¥ç»ˆç«¯ Vite è¾“å‡ºçš„å®é™…ç«¯å£ä¸ºå‡†ï¼

---

## ğŸ‰ ç°åœ¨å¯ä»¥å¼€å§‹äº†ï¼

æ‰€æœ‰é—®é¢˜éƒ½å·²ä¿®å¤ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼š

1. å¯åŠ¨åç«¯æœåŠ¡
2. å¯åŠ¨å‰ç«¯æœåŠ¡
3. è®¿é—® http://localhost:3000
4. ä½¿ç”¨ admin/admin123 ç™»å½•
5. äº«å—ä½¿ç”¨ï¼

---

**ä¿®å¤å®Œæˆæ—¥æœŸ**: 2024-11-06  
**ç‰ˆæœ¬**: v2.1.2  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª  
**æ ¸å¿ƒæ”¹è¿›**: 
- ä¿®å¤å“åº”æ ¼å¼å¤„ç†
- å…¼å®¹å¤šç§åç«¯æ ¼å¼
- å®Œå–„é”™è¯¯æç¤ºå’Œè°ƒè¯•

