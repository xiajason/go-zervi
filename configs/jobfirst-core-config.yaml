# JobFirst Core 配置文件
# 用于Zervigo微服务架构

# 数据库配置
database:
  # PostgreSQL配置
  postgres:
    host: localhost
    port: 5432
    username: szjason72
    password: ""
    database: zervigo_mvp
    sslmode: disable
    max_open_conns: 100
    max_idle_conns: 10
    conn_max_lifetime: 3600
  
  # MySQL配置 (备用)
  mysql:
    host: localhost
    port: 3306
    username: root
    password: ""
    database: zervigo_mvp
    charset: utf8mb4
    parse_time: true
    loc: Local
    max_open_conns: 100
    max_idle_conns: 10
    conn_max_lifetime: 3600

# Redis配置
redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5

# JWT配置
jwt:
  secret: "zervigo-mvp-secret-key-2025"
  access_expire: 7200  # 2小时
  refresh_secret: "zervigo-mvp-refresh-secret-key-2025"
  refresh_expire: 604800  # 7天

# 服务配置
services:
  # API网关
  api_gateway:
    host: 0.0.0.0
    port: 8888
    timeout: 30000
  
  # 认证服务
  auth_service:
    host: 0.0.0.0
    port: 8207
    timeout: 30000
  
  # 用户服务
  user_service:
    host: 0.0.0.0
    port: 8082
    timeout: 30000
  
  # 职位服务
  job_service:
    host: 0.0.0.0
    port: 8084
    timeout: 30000
  
  # 简历服务
  resume_service:
    host: 0.0.0.0
    port: 8085
    timeout: 30000
  
  # 企业服务
  company_service:
    host: 0.0.0.0
    port: 8083
    timeout: 30000
  
  # AI服务
  ai_service:
    host: 0.0.0.0
    port: 8100
    timeout: 30000
  
  # 区块链服务
  blockchain_service:
    host: 0.0.0.0
    port: 8208
    timeout: 30000

# 服务发现配置
consul:
  host: localhost
  port: 8500
  datacenter: dc1
  service_prefix: "zervigo"

# 日志配置
logging:
  level: info
  format: json
  output: stdout
  file:
    path: "./logs"
    max_size: 100
    max_age: 7
    max_backups: 3
    compress: true

# 监控配置
monitoring:
  prometheus:
    enabled: true
    port: 9090
    path: "/metrics"
  
  jaeger:
    enabled: false
    endpoint: "http://localhost:14268/api/traces"
    service_name: "zervigo-mvp"
    sampler_type: "const"
    sampler_param: 1

# 安全配置
security:
  cors:
    allowed_origins:
      - "http://localhost:3000"
      - "http://localhost:8080"
      - "http://127.0.0.1:3000"
      - "http://127.0.0.1:8080"
    allowed_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
    allowed_headers:
      - "Content-Type"
      - "Authorization"
      - "X-Requested-With"
  
  rate_limit:
    enabled: true
    requests_per_minute: 100
    burst: 20

# AI服务配置
ai:
  model_name: "gemma-2-2b"
  max_tokens: 1000
  temperature: 0.7
  top_p: 0.9
  frequency_penalty: 0.0
  presence_penalty: 0.0
  api_key: ""

# 区块链配置
blockchain:
  provider: "local"
  network_id: 1
  gas_limit: 21000
  gas_price: 20000000000
  private_key: ""

# 文件上传配置
upload:
  max_size: 10485760  # 10MB
  allowed_types:
    - "image/jpeg"
    - "image/png"
    - "image/gif"
    - "application/pdf"
    - "application/msword"
    - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
  upload_path: "./uploads"

# 邮件配置
email:
  host: "smtp.gmail.com"
  port: 587
  username: ""
  password: ""
  from: "noreply@zervigo.com"

# 短信配置
sms:
  provider: "aliyun"
  access_key_id: ""
  access_key_secret: ""
  sign_name: "Zervigo"
  template_code: "SMS_123456789"

# 环境配置
environment: development
debug: true
